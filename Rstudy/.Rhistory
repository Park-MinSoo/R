k3@data[grep('^11150', k3@data$C행정구역별_읍면동),
c("C행정구역별_읍면동", "행정구역별_읍면동")]
grep('^11150', k3@data$C행정구역별_읍면동)
# 강남구의 동 뽑기
guname <- '강남구'
gucode <- k2@data[k2@data$name == guname, "code.data"]
pattern <- paste0('^', gucode)
k3@data[grep(pattern, k3@data$code.data),
c("code.data", "name")]
# 강남구의 동 뽑기
guname <- '강남구'
gucode <- k2@data[k2@data$name == guname, "code.data"]
pattern <- paste0('^', gucode)
k3@data[grep(pattern, k3@data$code.data),
c("code.data", "name")]
# 강남구 1인 가구 뽑기
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='강남구')
# 강남구 1인 가구 뽑기
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='강남구')
# 광진구 데이터만 뽑음
k3@data<-k3@data[c(67:81),]
k3@polygons<-k3@polygons[c(67:81)]
# 광진구 데이터만 뽑음
k3@data<-k3@data[c(67:81),]
k3@polygons<-k3@polygons[c(67:81)]
#mypalette <- colorNumeric(palette ='RdYlBu' , domain = k3@data$'일인가구')
#mypalette <- colorNumeric(palette ='PuRd' , domain = k3@data$'일인가구')
mypalette <- colorNumeric(palette ='Set3' , domain = k3@data$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',k3@data$'일인가구')
k3@data<-merge(k3@data,dong,by.x='name',sort=FALSE)
mymap <- k3@data
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='광진구')
k3@data<-merge(k3@data,dong,by.x='name',sort=FALSE)
mymap <- k3@data
#mypalette <- colorNumeric(palette ='RdYlBu' , domain = k3@data$'일인가구')
#mypalette <- colorNumeric(palette ='PuRd' , domain = k3@data$'일인가구')
mypalette <- colorNumeric(palette ='Set3' , domain = k3@data$'일인가구')
k3@data<-merge(k3@data,dong,by.x='name',sort=FALSE)
mymap <- k3@data
#mypalette <- colorNumeric(palette ='RdYlBu' , domain = k3@data$'일인가구')
#mypalette <- colorNumeric(palette ='PuRd' , domain = k3@data$'일인가구')
mypalette <- colorNumeric(palette ='Set3' , domain = k3@data$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',k3@data$'일인가구')
map7 <- NULL
map7<-leaflet(k3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
fillOpacity = .7,
popup = mypopup,
color = ~mypalette(k3@data$일인가구)) %>%
addLegend( values = ~k3@data$일인가구,
pal = mypalette ,
title = '인구수',
opacity = 1)
map7
map7 <- NULL
map7<-leaflet(k3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
fillOpacity = .7,
popup = mypopup,
color = ~mypalette(k3@data$일인가구)) %>%
addLegend( values = ~k3@data$일인가구,
pal = mypalette ,
title = '인구수',
opacity = 1)
map7
map7 <- NULL
map7<-leaflet(k3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
fillOpacity = .7,
popup = mypopup,
color = ~mypalette(k3@data$일인가구)) %>%
addLegend( values = ~k3@data$일인가구,
pal = mypalette ,
title = '인구수',
opacity = 1)
map7
# 강남구의 동 뽑기
guname <- '강남구'
gucode <- k2@data[k2@data$name == guname, "code.data"]
pattern <- paste0('^', gucode)
k3@data[grep(pattern, k3@data$code.data),
c("code.data", "name")]
# 강남구 1인 가구 뽑기
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='강남구')
# 광진구 데이터만 뽑음
k3@data<-k3@data[c(67:81),]
k3@polygons<-k3@polygons[c(67:81)]
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='광진구')
k3@data<-merge(k3@data,dong,by.x='name',sort=FALSE)
mymap <- k3@data
#mypalette <- colorNumeric(palette ='RdYlBu' , domain = k3@data$'일인가구')
#mypalette <- colorNumeric(palette ='PuRd' , domain = k3@data$'일인가구')
mypalette <- colorNumeric(palette ='Set3' , domain = k3@data$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',k3@data$'일인가구')
map7 <- NULL
map7<-leaflet(k3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
fillOpacity = .7,
popup = mypopup,
color = ~mypalette(k3@data$일인가구)) %>%
addLegend( values = ~k3@data$일인가구,
pal = mypalette ,
title = '인구수',
opacity = 1)
map7
#mypalette <- colorNumeric(palette ='RdYlBu' , domain = k3@data$'일인가구')
#mypalette <- colorNumeric(palette ='PuRd' , domain = k3@data$'일인가구')
mypalette <- colorNumeric(palette ='Set3' , domain = k3@data$'일인가구')
#mypalette <- colorNumeric(palette ='RdYlBu' , domain = k3@data$'일인가구')
#mypalette <- colorNumeric(palette ='PuRd' , domain = k3@data$'일인가구')
mypalette <- colorNumeric(palette ='Set3' , domain = k3@data$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',k3@data$'일인가구')
map7 <- NULL
map7<-leaflet(k3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
fillOpacity = .7,
popup = mypopup,
color = ~mypalette(k3@data$일인가구)) %>%
addLegend( values = ~k3@data$일인가구,
pal = mypalette ,
title = '인구수',
opacity = 1)
map7
k2 <- korpopmap2
k3 <- korpopmap3
k2@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
k3@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
# 양천구의 구코드 출력
k2@data[k2@data$C행정구역별_읍면동 == '11150',
c("C행정구역별_읍면동", "행정구역별_읍면동")]
# 양천구에 속한 동의 코드 출력 --> 추출되지 않음
k3@data[k3@data$C행정구역별_읍면동 == '11150',
c("C행정구역별_읍면동", "행정구역별_읍면동")]
# 양천구에 속한 동의 코드 출력 --> 추출됨
k3@data[grep('^11150', k3@data$C행정구역별_읍면동),
c("C행정구역별_읍면동", "행정구역별_읍면동")]
# 강남구의 동 뽑기
guname <- '강남구'
gucode <- k2@data[k2@data$name == guname, "code.data"]
pattern <- paste0('^', gucode)
k3@data[grep(pattern, k3@data$code.data),
c("code.data", "name")]
# 강남구 1인 가구 뽑기
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='강남구')
# 광진구 데이터만 뽑음
k3@data<-k3@data[c(67:81),]
k3@polygons<-k3@polygons[c(67:81)]
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='광진구')
k3@data<-merge(k3@data,dong,by.x='name',sort=FALSE)
mymap <- k3@data
#mypalette <- colorNumeric(palette ='RdYlBu' , domain = k3@data$'일인가구')
#mypalette <- colorNumeric(palette ='PuRd' , domain = k3@data$'일인가구')
mypalette <- colorNumeric(palette ='Set3' , domain = k3@data$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',k3@data$'일인가구')
map7 <- NULL
map7<-leaflet(k3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
fillOpacity = .7,
popup = mypopup,
color = ~mypalette(k3@data$일인가구)) %>%
addLegend( values = ~k3@data$일인가구,
pal = mypalette ,
title = '인구수',
opacity = 1)
map7
#install.packages("RColorBrewer")
library(RColorBrewer)
for(col_i in c('YlGn','RdPu', 'PuRd', 'BrBG', 'RdBu', 'RdYlBu', 'Set3', 'Set1')){
print(col_i)
print(brewer.pal(n = 5, name = col_i))
}
install.packages("htmlwidgets")
install.packages("htmlwidgets")
library(htmlwidgets)
install.packages("htmlwidgets")
saveWidget(map7, file="m.html")
library(leaflet)
View(quakes)
str(quakes)
data = quakes[1:20,]
str(quakes)
data = quakes[1:20,]
data <- quakes[1:20,]
data <- quakes
data <- quakes[1:20,]
#data <- quakes
leaflet() %>% addTiles() %>%
addMarkers(data$long, data$lat, popup = paste("지진 강도 : ",
as.character(data$mag)), label = as.character(data$mag))
getColor <- function(quakes) {
result <- sapply(quakes$mag, function(mag) {
if(mag <= 4) {
"green"
} else if(mag <= 5) {
"orange"
} else {
"red"
} })
return(result)
}
icons <- awesomeIcons(
icon = 'ios-close',
iconColor = 'black',
library = 'ion',
markerColor = getColor(data)
)
leaflet() %>% addTiles() %>%
addAwesomeMarkers(data$long, data$lat, icon=icons,
label = as.character(data$mag))
leaflet() %>% addTiles() %>%
addMarkers(data$long, data$lat, popup = paste("지진 강도 : ",
as.character(data$mag)), label = as.character(data$mag))
# 광진구 데이터만 뽑음
k3@data<-k3@data[c(67:81),]
k3@polygons<-k3@polygons[c(67:81)]
# 종로구 데이터만 뽑음
k3@data<-k3@data[c(67:81),]
k3@polygons<-k3@polygons[c(67:81)]
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='종로구')
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='종로구')
# 종로구 데이터만 뽑음
k3@data<-k3@data[c(67:81),]
k3@polygons<-k3@polygons[c(67:81)]
k3@data
View(map7)
map7<-leaflet(k3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
fillOpacity = .7,
popup = mypopup,
color = ~mypalette(k3@data$일인가구)) %>%
addLegend( values = ~k3@data$일인가구,
pal = mypalette ,
title = '인구수',
opacity = 1)
# 광진구 데이터만 뽑음
k3@data<-k3@data[c(67:81),]
k3@polygons<-k3@polygons[c(67:81)]
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='광진구')
k3@data<-merge(k3@data,dong,by.x='name',sort=FALSE)
mymap <- k3@data
#mypalette <- colorNumeric(palette ='RdYlBu' , domain = k3@data$'일인가구')
#mypalette <- colorNumeric(palette ='PuRd' , domain = k3@data$'일인가구')
mypalette <- colorNumeric(palette ='Set3' , domain = k3@data$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',k3@data$'일인가구')
map7 <- NULL
map7<-leaflet(k3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
fillOpacity = .7,
popup = mypopup,
color = ~mypalette(k3@data$일인가구)) %>%
addLegend( values = ~k3@data$일인가구,
pal = mypalette ,
title = '인구수',
opacity = 1)
map7
# 강남구의 동 뽑기
guname <- '강남구'
gucode <- k2@data[k2@data$name == guname, "code.data"]
pattern <- paste0('^', gucode)
k3@data[grep(pattern, k3@data$code.data),
c("code.data", "name")]
# 강남구 1인 가구 뽑기
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='강남구')
# 광진구 데이터만 뽑음
k3@data<-k3@data[c(67:81),]
k3@polygons<-k3@polygons[c(67:81)]
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='광진구')
k3@data<-merge(k3@data,dong,by.x='name',sort=FALSE)
mymap <- k3@data
#mypalette <- colorNumeric(palette ='RdYlBu' , domain = k3@data$'일인가구')
#mypalette <- colorNumeric(palette ='PuRd' , domain = k3@data$'일인가구')
mypalette <- colorNumeric(palette ='Set3' , domain = k3@data$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',k3@data$'일인가구')
map7 <- NULL
map7<-leaflet(k3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
fillOpacity = .7,
popup = mypopup,
color = ~mypalette(k3@data$일인가구)) %>%
addLegend( values = ~k3@data$일인가구,
pal = mypalette ,
title = '인구수',
opacity = 1)
map7
k2 <- korpopmap2
k3 <- korpopmap3
k2@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
k3@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
# 강남구의 동 뽑기
guname <- '강남구'
gucode <- k2@data[k2@data$name == guname, "code.data"]
pattern <- paste0('^', gucode)
k3@data[grep(pattern, k3@data$code.data),
c("code.data", "name")]
# 강남구 1인 가구 뽑기
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='강남구')
# 광진구 데이터만 뽑음
k3@data<-k3@data[c(67:81),]
k3@polygons<-k3@polygons[c(67:81)]
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='광진구')
k3@data<-merge(k3@data,dong,by.x='name',sort=FALSE)
mymap <- k3@data
#mypalette <- colorNumeric(palette ='RdYlBu' , domain = k3@data$'일인가구')
#mypalette <- colorNumeric(palette ='PuRd' , domain = k3@data$'일인가구')
mypalette <- colorNumeric(palette ='Set3' , domain = k3@data$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',k3@data$'일인가구')
map7 <- NULL
map7<-leaflet(k3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
fillOpacity = .7,
popup = mypopup,
color = ~mypalette(k3@data$일인가구)) %>%
addLegend( values = ~k3@data$일인가구,
pal = mypalette ,
title = '인구수',
opacity = 1)
map7
k2 <- korpopmap2
k3 <- korpopmap3
k2@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
k3@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
# 강남구의 동 뽑기
guname <- '강남구'
gucode <- k2@data[k2@data$name == guname, "code.data"]
pattern <- paste0('^', gucode)
k3@data[grep(pattern, k3@data$code.data),
c("code.data", "name")]
# 강남구 1인 가구 뽑기
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='강남구')
k3@data<-merge(k3@data,dong,by.x='name',sort=FALSE)
mymap <- k3@data
mypalette <- colorNumeric(palette ='Set3' , domain = k3@data$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',k3@data$'일인가구')
map7 <- NULL
map7<-leaflet(k3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
fillOpacity = .7,
popup = mypopup,
color = ~mypalette(k3@data$일인가구)) %>%
addLegend( values = ~k3@data$일인가구,
pal = mypalette ,
title = '인구수',
opacity = 1)
map7
k2 <- korpopmap2
k2
k3 <- korpopmap3
k2@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
k3@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
k3 <- korpopmap3
k3@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
k3 <- korpopmap3
k3@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
# 강남구 1인 가구 뽑기
k3@data$name<-gsub('·','',k3@data$name)
k3@data$name
colnames(DONG)<-c('구별','name','일인가구')
colnames(DONG)
dong <- DONG %>%filter(구별=='강남구')
colnames(DONG)<-c('구별','name','일인가구')
k3@data$name
View(k3@data$name)
k3@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
DONG
#View(k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='강남구')
DONG
#View(k3@data$name)
colnames(DONG)<-c('구별','name','일인dls가구')
DONG
k3 <- korpopmap3
k3@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
# 강남구 1인 가구 뽑기
k3@data$name<-gsub('·','',k3@data$name)
k3@data$name
k3 <- korpopmap3
k3@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
# 강남구 1인 가구 뽑기
k3@data$name<-gsub('·','',k3@data$name)
#View(k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
dong <- DONG %>%filter(구별=='강남구')
k3@data<-merge(k3@data,dong,by.x='name',sort=FALSE)
mymap <- k3@data
mypalette <- colorNumeric(palette ='Set3' , domain = k3@data$'일인가구')
mypopup <- paste0(mymap$name,'<br> 1인가구: ',k3@data$'일인가구')
map7 <- NULL
map7<-leaflet(k3) %>%
addTiles() %>%
setView(lat=37.52711, lng=126.987517, zoom=12) %>%
addPolygons(stroke =FALSE,
fillOpacity = .7,
popup = mypopup,
color = ~mypalette(k3@data$일인가구)) %>%
addLegend( values = ~k3@data$일인가구,
pal = mypalette ,
title = '인구수',
opacity = 1)
map7
# 강남구의 동 뽑기
guname <- '강남구'
gucode <- k2@data[k2@data$name == guname, "code.data"]
pattern <- paste0('^', gucode)
k3@data[grep(pattern, k3@data$code.data),
c("code.data", "name")]
k2 <- korpopmap2
k3 <- korpopmap3
k2@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
k3@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
# 강남구의 동 뽑기
guname <- '강남구'
gucode <- k2@data[k2@data$name == guname, "code.data"]
pattern <- paste0('^', gucode)
k3@data[grep(pattern, k3@data$code.data),
c("code.data", "name")]
# 강남구 1인 가구 뽑기
k3@data$name<-gsub('·','',k3@data$name)
k3@data$name
colnames(DONG)<-c('구별','name','일인가구')
colnames(DONG)
DONG
dong <- DONG %>%filter(구별=='강남구')
dong
dong <- DONG %>%filter(구별=='강남구')
# 광진구 데이터만 뽑음
k3@data<-k3@data[c(67:81),]
k3@data
k3@polygons<-k3@polygons[c(67:81)]
k3@polygons
k3@data$name<-gsub('·','',k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
DONG
dong <- DONG %>%filter(구별=='광진구')
dong <- DONG %>%filter(구별=='광진구')
k3@data<-merge(k3@data,dong,by.x='name',sort=FALSE)
mymap <- k3@data
mymap
DONG
DONG %>%filter(구별=='강남구')
DONG %>%filter(구별=='강남구')
k3 <- korpopmap3
k3@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
k3@data$name
# 강남구 1인 가구 뽑기
k3@data$name<-gsub('·','',k3@data$name)
k3@data$name
View(k3)
k3@data$name
#View(k3@data$name)
colnames(DONG)<-c('구별','name','일인가구')
DONG
DONG<-read.csv('data/one.csv')
DONG
View(DONG)
k3 <- korpopmap3
k3@data[c("C행정구역별_읍면동", "행정구역별_읍면동")]
View(k3@data)
colnames(DONG)<-c('구별','name','일인가구') # DONG 칼럼명 재설정
View(DONG)
dong <- DONG %>%filter(구별=='강남구')
