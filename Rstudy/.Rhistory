reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
Sys.sleep(2)
curr_PageElem <- remDr$findElement(using='css','body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate >> strong') # 3부터 6까지 가야함.
curr_PageNewNum <- as.numeric(curr_PageElem$getElementText())
cat(paste(curr_PageOldNum, ':', curr_PageNewNum,'\n'))
if(curr_PageNewNum == curr_PageOldNum)  {
cat("종료\n")
break;
}
curr_PageOldNum <- curr_PageNewNum;
}
pageLink <- NULL
reple <- NULL
curr_PageOldNum <- 1
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
Sys.sleep(2)
curr_PageElem <- remDr$findElement(using='css','body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > span > strong') # 3부터 6까지 가야함.
curr_PageNewNum <- as.numeric(curr_PageElem$getElementText())
cat(paste(curr_PageOldNum, ':', curr_PageNewNum,'\n'))
if(curr_PageNewNum == curr_PageOldNum)  {
cat("종료\n")
break;
}
curr_PageOldNum <- curr_PageNewNum;
}
curr_PageElem <- remDr$findElement(using='css','body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > span:nth-child(2) > strong') # 3부터 6까지 가야함.
curr_PageNewNum <- as.numeric(curr_PageElem$getElementText())
curr_PageNewNum
curr_PageElem <- remDr$findElement(using='css','body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > span:nth-child(3) > strong') # 3부터 6까지 가야함.
curr_PageNewNum <- as.numeric(curr_PageElem$getElementText())
curr_PageNewNum
curr_PageElem <- remDr$findElement(using='css','body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > span:nth-child(3) > strong') # 3부터 6까지 가야함.
curr_PageNewNum <- as.numeric(curr_PageElem$getElementText())
curr_PageNewNum
pageLink <- NULL
reple <- NULL
curr_PageOldNum <- 1
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
Sys.sleep(2)
curr_PageElem <- remDr$findElement(using='css','body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > span:nth-child(3) > strong') # 3부터 6까지 가야함.
curr_PageNewNum <- as.numeric(curr_PageElem$getElementText())
curr_PageNewNum
cat(paste(curr_PageOldNum, ':', curr_PageNewNum,'\n'))
if(curr_PageNewNum == curr_PageOldNum)  {
cat("종료\n")
break;
}
curr_PageOldNum <- curr_PageNewNum;
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
curr_PageElem <- remDr$findElement(using='css','body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > span:nth-child(4) > strong') # 3부터 6까지 가야함.
curr_PageNewNum <- as.numeric(curr_PageElem$getElementText())
cat(paste(curr_PageOldNum, ':', curr_PageNewNum,'\n'))
if(curr_PageNewNum == curr_PageOldNum)  {
cat("종료\n")
break;
}
curr_PageOldNum <- curr_PageNewNum;
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
curr_PageElem <- remDr$findElement(using='css','body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > span:nth-child(4) > strong') # 3부터 6까지 가야함.
curr_PageNewNum <- as.numeric(curr_PageElem$getElementText())
cat(paste(curr_PageOldNum, ':', curr_PageNewNum,'\n'))
if(curr_PageNewNum == curr_PageOldNum)  {
cat("종료\n")
break;
}
curr_PageOldNum <- curr_PageNewNum;
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
Sys.sleep(2)
curr_PageElem <- remDr$findElement(using='css','body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > span:nth-child(4) > strong') # 3부터 6까지 가야함.
curr_PageNewNum <- as.numeric(curr_PageElem$getElementText())
cat(paste(curr_PageOldNum, ':', curr_PageNewNum,'\n'))
if(curr_PageNewNum == curr_PageOldNum)  {
cat("종료\n")
break;
}
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
curr_PageElem <- remDr$findElement(using='css','body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > span > strong') # 3,4,4,4,4,4,4,5,6까지 가야함.
curr_PageNewNum <- as.numeric(curr_PageElem$getElementText())
curr_PageNewNum
print(repl_v)
pageLink <- NULL
reple <- NULL
curr_PageOldNum <- 1
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
if(length(pageLink) == 0)  break;
doms2<-remDr$findElement(using ="css selector","body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > span > strong")
doms2
repl <-sapply(doms2,function(x){x$getElementText()})
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
Sys.sleep(2)
curr_PageElem <- remDr$findElement(using='css','body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > span > strong') # 3,4,4,4,4,4,4,5,6까지 가야함.
curr_PageNewNum <- as.numeric(curr_PageElem$getElementText())
curr_PageNewNum
curr_PageElem
pageLink <- NULL
reple <- NULL
curr_PageOldNum <- 1
curr_PageElem <- remDr$findElement(using='css','body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > span > strong') # 3,4,4,4,4,4,4,5,6까지 가야함.
curr_PageNewNum <- sapply(curr_PageElem,function(x){x$getElementText()})
curr_PageNewNum
curr_PageElem <- remDr$findElement(using='css','body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > span > strong') # 3,4,4,4,4,4,4,5,6까지 가야함.
curr_PageElem
curr_PageNewNum <- as.numeric(curr_PageElem$getElementText())
curr_PageNewNum
pageLink <- NULL
reple <- NULL
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
#Sys.sleep(2)
#curr_PageElem <- remDr$findElement(using='css','body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > span > strong') # 3,4,4,4,4,4,4,5,6까지 가야함.
#curr_PageNewNum <- as.numeric(curr_PageElem$getElementText())
#curr_PageNewNum <- sapply(curr_PageElem,function(x){x$getElementText()})
}
finish <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next.disabled")
finish
pageLink <- NULL
reple <- NULL
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
finish <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next.disabled")
if(pageLink == finish) break;
}
pageLink
pageLink <- NULL
reple <- NULL
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
if(pageLink == remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next.disabled"))
break;
}
pageLink <- NULL
reple <- NULL
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
if(pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next.disabled"))
break;
}
pageLink <- NULL
reple <- NULL
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
if(using=='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next.disabled"))
break;
}
pageLink <- NULL
reple <- NULL
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
try(pageLink<-remDr$findElement(using='css',
"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next.disabled"))
if(length(pageLink) == 0)  break;
}
pageLink
length(pageLink)
pageLink <- NULL
reple <- NULL
pageLink <- NULL
reple <- NULL
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
try(pageLink2<-remDr$findElement(using='css',
"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next.disabled"))
if(length(pageLink2) == 1)  break;
}
pageLink <- NULL
pageLink2 <- NULL
reple <- NULL
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
try(pageLink2<-remDr$findElement(using='css',
"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next.disabled"))
if(length(pageLink2) == 1)  break;
}
pageLink <- NULL
pageLink2 <- NULL
reple <- NULL
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
if(length(pageLink2) == 1)  break;
try(pageLink2<-remDr$findElement(using='css',
"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next.disabled"))
}
pageLink <- NULL
pageLink2 <- NULL
reple <- NULL
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
if(length(pageLink2) == 1)  break;
try(pageLink2<-remDr$findElement(using='css',
"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next.disabled"))
}
cat(length(reple), "개의 댓글 추출\n")
write(reple,"naverhotel.txt")
remDr$open()
url<-'https://hotel.naver.com/hotels/item?hotelId=hotel:Shilla_Stay_Yeoksam&destination_kor=%EC%8B%A0%EB%9D%BC%EC%8A%A4%ED%85%8C%EC%9D%B4%20%EC%97%AD%EC%82%BC&rooms=2'
remDr$navigate(url)
Sys.sleep(3)
pageLink <- NULL
pageLink2 <- NULL
reple <- NULL
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
if(length(pageLink2) == 1)  break;
try(pageLink2<-remDr$findElement(using='css',
"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next.disabled"))
}
cat(length(reple), "개의 댓글 추출\n")
write(reple,"naverhotel.txt")
# [ 네이버 호텔에 대한 전체 페이지 댓글 읽기 ]
remDr <- remoteDriver(remoteServerAddr = "localhost" , port = 4445, browserName = "chrome")
remDr$open()
url<-'https://hotel.naver.com/hotels/item?hotelId=hotel:Shilla_Stay_Yeoksam&destination_kor=%EC%8B%A0%EB%9D%BC%EC%8A%A4%ED%85%8C%EC%9D%B4%20%EC%97%AD%EC%82%BC&rooms=2'
remDr$navigate(url)
Sys.sleep(3)
pageLink <- NULL
pageLink2 <- NULL
reple <- NULL
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
if(length(pageLink2) == 1)  break;
try(pageLink2<-remDr$findElement(using='css',
"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next.disabled"))
}
cat(length(reple), "개의 댓글 추출\n")
write(reple,"naverhotel.txt")
remDr$open()
url<-'https://hotel.naver.com/hotels/item?hotelId=hotel:Shilla_Stay_Yeoksam&destination_kor=%EC%8B%A0%EB%9D%BC%EC%8A%A4%ED%85%8C%EC%9D%B4%20%EC%97%AD%EC%82%BC&rooms=2'
remDr$navigate(url)
Sys.sleep(3)
pageLink <- NULL
pageLink2 <- NULL
reple <- NULL
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
if(length(pageLink2) == 1)  break;
try(pageLink2<-remDr$findElement(using='css',
"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next.disabled"), silent =1)
}
remDr$open()
url<-'https://hotel.naver.com/hotels/item?hotelId=hotel:Shilla_Stay_Yeoksam&destination_kor=%EC%8B%A0%EB%9D%BC%EC%8A%A4%ED%85%8C%EC%9D%B4%20%EC%97%AD%EC%82%BC&rooms=2'
remDr$navigate(url)
Sys.sleep(3)
pageLink <- NULL
pageLink2 <- NULL
reple <- NULL
repeat{
doms <- remDr$findElements(using = "css", "body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > ul > li > div.review_desc > p")
Sys.sleep(1)
reple_v <- sapply(doms, function (x) {x$getElementText()})
print(reple_v)
reple <- append(reple, unlist(reple_v))
cat(length(reple), "\n")
pageLink <- remDr$findElements(using='css',"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next")
remDr$executeScript("arguments[0].click();",pageLink)
if(length(pageLink2) == 1)  break;
try(pageLink2<-remDr$findElement(using='css',
"body > div > div.ng-scope > div.container.ng-scope > div.content > div.hotel_used_review.ng-isolate-scope > div.review_ta.ng-scope > div.paginate > a.direction.next.disabled"), silent = T)
}
remDr$open()
remDr$navigate("http://www.yes24.com/24/goods/40936880")
webElem <- remDr$findElement("css", "body")
remDr$executeScript("scrollTo(0, 0)", args = list(webElem))
Sys.sleep(1)
remDr$executeScript("scrollBy(0, 3200)", args = list(webElem))
Sys.sleep(1)
remDr$executeScript("scrollBy(0, 3200)", args = list(webElem))
Sys.sleep(1)
remDr$executeScript("scrollBy(0, 3200)", args = list(webElem))
Sys.sleep(3)
repl_v = NULL
endFlag <- FALSE
page <- 3
repeat {
for(index in 3:7) { # 댓글의 더보기 버튼에 클릭이벤트를 전부 보내는것이다.
fullContentLinkCSS <- paste("#infoset_reviewContentList > div:nth-child(",index,") > div.reviewInfoBot.crop > a", sep='')
fullContentLink<-remDr$findElements(using='css selector',  fullContentLinkCSS)
if (length(fullContentLink) == 0) {
cat("종료\n")
endFlag <- TRUE
break
}
repeat {
for(index in 3:7) { # 댓글의 더보기 버튼에 클릭이벤트를 전부 보내는것이다.
fullContentLinkCSS <- paste("#infoset_reviewContentList > div:nth-child(",index,") > div.reviewInfoBot.crop > a", sep='')
fullContentLink<-remDr$findElements(using='css selector',  fullContentLinkCSS)
if (length(fullContentLink) == 0) {
cat("종료\n")
endFlag <- TRUE
break
}
remDr$executeScript("arguments[0].click();",fullContentLink);
Sys.sleep(1)
fullContentCSS <- paste("#infoset_reviewContentList > div:nth-child(",index,") > div.reviewInfoBot.origin > div.review_cont > p", sep='')
fullContent<-remDr$findElements(using='css selector', fullContentCSS)
print(fullContent)
repl <-sapply(fullContent,function(x){x$getElementText()})
print(repl)
repl_v <- c(repl_v, unlist(repl))
}
if(endFlag)
break;
if(page == 10){
page <- 3
nextPageCSS <- "#infoset_reviewContentList > div.review_sort.sortTop > div.review_sortLft > div > a.bgYUI.next"
}
else{
page <- page+1;
nextPageCSS <- paste("#infoset_reviewContentList > div.review_sort.sortBot > div.review_sortLft > div > a:nth-child(",page,")",sep="")
}
#infoset_reviewContentList > div.review_sort.sortBot > div.review_sortLft > div > a:nth-child(4)
#infoset_reviewContentList > div.review_sort.sortBot > div.review_sortLft > div > a:nth-child(5)
remDr$executeScript("scrollTo(0, 0)", args = list(webElem))
nextPageLink<-remDr$findElements(using='css selector',nextPageCSS)
remDr$executeScript("arguments[0].click();",nextPageLink);
#sapply(nextPageLink,function(x){x$clickElement()})
Sys.sleep(5)
print(page)
}
for(index in 3:7) { # 댓글의 더보기 버튼에 클릭이벤트를 전부 보내는것이다.
fullContentLinkCSS <- paste("#infoset_reviewContentList > div:nth-child(",index,") > div.reviewInfoBot.crop > a", sep='')
fullContentLink<-remDr$findElements(using='css selector',  fullContentLinkCSS)
if (length(fullContentLink) == 0) {
cat("종료\n")
endFlag <- TRUE
break
}
remDr$executeScript("arguments[0].click();",fullContentLink);
Sys.sleep(1)
fullContentCSS <- paste("#infoset_reviewContentList > div:nth-child(",index,") > div.reviewInfoBot.origin > div.review_cont > p", sep='')
fullContent<-remDr$findElements(using='css selector', fullContentCSS)
print(fullContent)
repl <-sapply(fullContent,function(x){x$getElementText()})
print(repl)
repl_v <- c(repl_v, unlist(repl))
}
remDr <- remoteDriver(remoteServerAddr = "localhost", port = 4445, browserName = "chrome")
remDr$open()
remDr$navigate("http://www.yes24.com/24/goods/40936880")
webElem <- remDr$findElement("css", "body")
remDr$executeScript("scrollTo(0, 0)", args = list(webElem))
Sys.sleep(1)
remDr$executeScript("scrollBy(0, 3200)", args = list(webElem))
Sys.sleep(1)
remDr$executeScript("scrollBy(0, 3200)", args = list(webElem))
remDr$open()
repl_v = NULL
endFlag <- FALSE
remDr <- remoteDriver(remoteServerAddr = "localhost", port = 4445, browserName = "chrome")
remDr$open()
remDr$open()
remDr$open()
